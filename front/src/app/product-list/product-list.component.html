<app-header></app-header>
<div class="primeng-container">
    <div class="grid">
        <!-- Search -->
        <div class="col-4">
            <div class="p-inputgroup mt-4 mb-4 ml-4 ">
                <input type="text" pInputText placeholder="All Products..." class="w-4 search-field"
                    [(ngModel)]="searchByName" (keyup.enter)="searchProducts()" />
                <button type="button" pButton icon="pi pi-search" styleClass="p-button-warn" class="search-button w-1"
                    (click)="searchProducts()"></button>
            </div>
        </div>
        <div class="col-8 card flex">
            <!-- Categories -->
            <div class="card flex justify-content-center mt-4 ml-4 ">
                <p-multiSelect [options]="categories" [(ngModel)]="selectedCategories" optionLabel="name"
                    defaultLabel="All Categories"></p-multiSelect>
            </div>
            <!-- Rating -->
            <div class="card flex flex-column md:flex-row gap-3 ml-4">
                <p class="mt-5 font-bold text-white">Filter By Rating:
                </p>
                <p-selectButton [options]="ratingOptions" [(ngModel)]="ratingSelected" [multiple]="true"
                    optionLabel="name" optionValue="value" class="mt-4"></p-selectButton>
            </div>
            <!-- Price -->
            <div class="card flex flex-column md:flex-row gap-3">
                <div class="p-inputgroup w-8 ml-4 mt-4 mb-4">
                    <span class="p-inputgroup-addon">$</span>
                    <input pInputText type="number" placeholder="Filter By Price" [(ngModel)]="price" />
                </div>
            </div>

        </div>
    </div>
</div>
<!-- Body  -->
<div class="primeng-container">
    <div class="grid">
        <!-- Shopping Cart -->
        <div class="col-2">
            <app-shopping-cart [products]="cartProducts"></app-shopping-cart>
        </div>
        <!-- List Products -->
        <div class="col-10 ">
            <app-product [products]="products" [totalRecords]="totalRecords" (pageChange)="handlePageChange($event)"
                (productAdded)="handleProductAdded($event)"></app-product>
        </div>
    </div>
</div>
<!-- Button Create New Product -->
<div class="card flex justify-content-center">
    <a routerLink="/product-create">
        <p-button pRipple class="create-product-btn " label="New Product"></p-button>
    </a>
</div>